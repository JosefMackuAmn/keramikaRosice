!function(){"use strict";var e={"./src/js/index.js":
/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.* */function(e,t,n){n.r(t);var a=n(/*! ./utils/state */"./src/js/utils/state.js"),o=n(/*! ./utils/functions */"./src/js/utils/functions.js"),r=n(/*! ./utils/ajax */"./src/js/utils/ajax.js"),s=n(/*! ./utils/data */"./src/js/utils/data.js");o.ready(()=>{const e=new URLSearchParams(window.location.search);if(e.has("payment")){const t=e.get("payment");if("success"===t?o.createModal("Úspěch","Objednávka proběhla úspěšně","OK"):"canceled"===t&&o.createModal("Storno","Platba byla přerušena, ale prodejce byl o Vaší objednávce informován a vyřeší to s Vámi osobní domluvou.","OK"),"BTR"===t&&e.has("success")&&e.has("mailSent")){const t=e.get("success"),n=e.get("mailSent");"true"===t&&"true"===n&&o.createModal("Odesláno","Objednávka byla odeslána. <em> Byl vám zaslán mail, prosím, postupujte podle pokynů v něm. </em>","OK",!0),"true"===t&&"false"===n&&o.createModal("Chyba","<em> Nepodařil se odeslat mail s informacemi k platbě, prosím, kontaktujte mě na adrese keramikarosice@seznam.cz </em>","OK",!0),"false"===t&&"true"===n&&o.createModal("Chyba","Nastala chyba, objednávka nebyla odeslána.","OK"),"false"===t&&"false"===n&&o.createModal("Chyba","Nastala chyba, objednávka nebyla odeslána. ","OK")}if("DOB"===t&&e.has("success")&&e.has("mailSent")){const t=e.get("success"),n=e.get("mailSent");"true"===t&&"true"===n&&o.createModal("Úspěch","Objednávka proběhla úspěšně","OK"),"true"===t&&"false"===n&&o.createModal("Úspěch","Objednávka proběhla úspěšně","OK"),"false"===t&&"true"===n&&o.createModal("Chyba","Nastala chyba, objednávka nebyla odeslána","OK"),"false"===t&&"false"===n&&o.createModal("Chyba","Nastala chyba, objednávka nebyla odeslána.","OK")}}const t=a.default.hamburgerBtn=document.querySelector("#hamburger-btn"),n=t.nextElementSibling,d=document.querySelector(".header__backdrop"),c=e=>{if(e.stopPropagation(),![t.classList].includes("header__nav-button--hiding")){o.showOrHideEl(t,"header__nav-button--show","header__nav-button--hide","header__nav-button--hiding"),o.showOrHideEl(n,"header__nav-list--hidden","header__nav-list--visible","header__nav-list--hiding"),o.showOrHideEl(d,"header__backdrop--hidden","header__backdrop--visible","header__backdrop--hiding");for(const e of n.children)o.showOrHideEl(e,"header__nav-item--hidden","header__nav-item--visible","header__nav-item--hiding")}};d.addEventListener("click",c),t.addEventListener("click",c);const i=document.querySelector(".header__cart-amount");+i.textContent>0&&(i.style.display="flex");if(document.getElementById("categories-slider")){const e=document.getElementById("arrow-left"),t=document.getElementById("arrow-right");e.addEventListener("click",()=>{a.default.categoriesSlider.selectedArr="left",o.moveCategoriesSlider()}),t.addEventListener("click",()=>{a.default.categoriesSlider.selectedArr="right",o.moveCategoriesSlider()})}const l=document.getElementById("to-order");if(l){const e=document.getElementById("cart-order");l.addEventListener("click",()=>{e.scrollIntoView({behavior:"smooth"})})}const u=document.getElementById("order-form");u&&(u.addEventListener("submit",r.orderSubmitHandler),o.updateCartPage());const m=document.getElementById("agree-gdpr"),p=document.getElementById("agree-conditions"),y=document.getElementById("submit-order");if(u&&(m.addEventListener("input",()=>{o.refreshSubmitBtn(m,p,y)}),p.addEventListener("input",()=>{o.refreshSubmitBtn(m,p,y)})),u)for(const e of s.formELs)e.addEventListener("input",o.validateInput.bind(void 0,e));const h=document.querySelectorAll(".cart-item");if(u){const e=new Audio("/img/frogAudio.mp3");u.querySelector("#firstName").addEventListener("input",o.easterTime.bind(void 0,e));for(const e of h){const t=e.querySelector(".cart-item__amount-box__btn--add"),n=e.querySelector(".cart-item__amount-box__btn--remove"),a=e.querySelector(".close-button");t.addEventListener("click",async()=>{const t={action:"ADD",productId:e.dataset.productid,csrf:e.dataset.csrf,amount:1};o.addToCart(t).then(t=>{o.updateCartItem(e,t)})}),n.addEventListener("click",()=>{const t={action:"REMOVE",productId:e.dataset.productid,csrf:e.dataset.csrf,amount:1};o.removeFromCart(t).then(t=>{o.updateCartItem(e,t)})}),a.addEventListener("click",()=>{const t={action:"REMOVE",productId:e.dataset.productid,csrf:e.dataset.csrf,amount:!1};o.removeFromCart(t).then(t=>{o.updateCartItem(e,t)})})}}const v=document.querySelector(".eshop__products");if(v){const e=v.querySelectorAll(".post-order-btn");for(const t of e)t.addEventListener("click",async()=>{const e={action:"ADD",productId:t.dataset.productid,csrf:t.dataset.csrf,amount:t.parentElement.querySelector("input").value};o.addToCart(e).then(e=>{o.updateCartIcon(e)})})}const b=document.querySelector(".category-select");if(b){const e=b.querySelectorAll(".category-select__button");for(const t of e){const e=t.parentElement.querySelector(".category-select__subcategory-list");t.addEventListener("click",()=>{o.switchClass(t,"category-select__button--show","category-select__button--hide"),e&&o.showOrHideEl(e,"category-select__subcategory-list--hidden","category-select__subcategory-list--visible","category-select__subcategory-list--hiding")})}const t=document.querySelectorAll(".product");for(const e of t){const t=e.querySelector(".product__info .to-cart-button"),n=e.querySelector(".product__modal__close-button"),a=e.querySelector(".product__modal"),r=a.querySelector(".to-cart-button"),s=a.querySelector("input");t.addEventListener("click",()=>{o.switchClass(a,"product__modal--toggled","product__modal--hidden")}),n.addEventListener("click",()=>{o.switchClass(a,"product__modal--toggled","product__modal--hidden")}),r.addEventListener("click",()=>{o.switchClass(a,"product__modal--toggled","product__modal--hidden")}),s.addEventListener("input",()=>{/^[0-9]{1,}$/.test(s.value)?(s.classList.remove("invalid"),r.removeAttribute("disabled","")):(s.classList.add("invalid"),r.setAttribute("disabled",""))})}const n=b.querySelector("button"),a=n.parentElement.querySelector(".category-select__category-list"),r=n.parentElement.querySelector(".heading-2"),s=document.querySelector(".category-select__backdrop"),d=document.querySelector("footer");window.addEventListener("scroll",()=>{d.getBoundingClientRect().y>=n.getBoundingClientRect().y?(a.classList.remove("scrollLocked"),r.classList.remove("scrollLocked")):(a.classList.add("scrollLocked"),r.classList.add("scrollLocked"))});const c=()=>{o.showOrHideEl(a,"category-select__category-list--hidden","category-select__category-list--visible","category-select__category-list--hiding"),o.showOrHideEl(r,"heading-2--hidden","heading-2--visible","heading-2--hiding"),o.showOrHideEl(s,"category-select__backdrop--hidden","category-select__backdrop--visible","category-select__backdrop--hiding"),o.switchClass(n,"category-select__mobile-button--show","category-select__mobile-button--hide"),[...n.classList].includes("category-select__mobile-button--show")?n.textContent="Zobrazit kategorie":n.textContent="Skrýt kategorie"};n.addEventListener("click",c),s.addEventListener("click",c)}})},"./src/js/utils/ajax.js":
/*!******************************!*\
  !*** ./src/js/utils/ajax.js ***!
  \******************************/
/*! namespace exports */
/*! export orderSubmitHandler [provided] [no usage info] [missing usage info prevents renaming] */
/*! export postCartHandler [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */function(e,t,n){n.r(t),n.d(t,{postCartHandler:function(){return r},orderSubmitHandler:function(){return s}});var a=n(/*! ./functions */"./src/js/utils/functions.js"),o=n(/*! ./data */"./src/js/utils/data.js");const r=async({action:e,csrf:t,amount:n,productId:a})=>{switch(e){case"ADD":case"REMOVE":const o={action:e,amount:n,productId:a};return fetch("/kosik",{method:"POST",headers:{"X-CSRF-Token":t,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o)}).then(e=>Promise.all([e.clone(),e.json()])).then(e=>{const[t,n]=e;if(!(t.ok&&t.status>=200&&t.status<300))throw new Error(n.msg);return n.cart}).catch(e=>{throw new Error(e)});default:throw new Error("Non-existing cart action")}},s=e=>{const t=a.validateInput(o.formELs.email),n=a.validateInput(o.formELs.firstName),r=a.validateInput(o.formELs.lastName),s=a.validateInput(o.formELs.phone),d=a.validateInput(o.formELs.street),c=a.validateInput(o.formELs.city),i=a.validateInput(o.formELs.zipCode),l=a.validateInput(o.formELs.delivery),u=a.validateInput(o.formELs.payment);if(document.querySelector(".invalid"))return void e.preventDefault();const m=e.target.elements.order_submit,p=m.textContent;if(m.textContent="",m.classList.add("loading"),"CRD"===u){e.preventDefault();const o=e.target.dataset.stripepublickey,y=e.target.elements,h=Stripe(o),v=new FormData;v.append("_csrf",y._csrf.value),v.append("firstName",n),v.append("lastName",r),v.append("email",t),v.append("phone",s),v.append("street",d),v.append("city",c),v.append("delivery",l),v.append("payment",u),v.append("zipCode",i),fetch("/objednavka",{method:"POST",body:v}).then(e=>e.json()).then(e=>h.redirectToCheckout({sessionId:e.id})).then(e=>{e.error&&a.createModal("Nastala chyba","Platba se nezdařila, prosím kontaktujte mě na e-mailu keramikarosice@seznam.cz","OK")}).catch(e=>{a.createModal("Nastala chyba","Objednávka se nezdařila, prosím kontaktujte mě na e-mailu keramikarosice@seznam.cz","OK")}).finally(()=>{m.textContent=p,m.classList.remove("loading")})}}},"./src/js/utils/data.js":
/*!******************************!*\
  !*** ./src/js/utils/data.js ***!
  \******************************/
/*! namespace exports */
/*! export RegexMap [provided] [no usage info] [missing usage info prevents renaming] */
/*! export formELs [provided] [no usage info] [missing usage info prevents renaming] */
/*! export otherArgsMap [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */function(e,t,n){n.r(t),n.d(t,{formELs:function(){return o},RegexMap:function(){return r},otherArgsMap:function(){return s}});const a=document.getElementById("order-form"),o=a?a.elements:void 0,r=a?new Map([[o.email,/^[a-zA-Z0-9!#$_*?^{}~-]+(\.[a-zA-Z0-9!#$_*?^{}~-]+)*@([a-zA-Z-]+\.)+[a-zA-z]{2,}$/],[o.firstName,/(.+){2,}/],[o.lastName,/(.+){2,}/],[o.phone,/^[0-9]{9}$/],[o.street,/(.+){2,}/],[o.city,/(.+){2,}/],[o.zipCode,/[0-9]{5}/],[o.delivery,/(ZAS|POS|OOD)/],[o.payment,/(DOB|CRD|BTR)/]]):void 0,s=a?new Map([[o.phone,[void 0,!0]],[o.zipCode,[void 0,!0]],[o.payment,["order-payment"]],[o.delivery,["order-delivery"]]]):void 0},"./src/js/utils/functions.js":
/*!***********************************!*\
  !*** ./src/js/utils/functions.js ***!
  \***********************************/
/*! namespace exports */
/*! export addToCart [provided] [no usage info] [missing usage info prevents renaming] */
/*! export createCartHint [provided] [no usage info] [missing usage info prevents renaming] */
/*! export createModal [provided] [no usage info] [missing usage info prevents renaming] */
/*! export easterTime [provided] [no usage info] [missing usage info prevents renaming] */
/*! export moveCategoriesSlider [provided] [no usage info] [missing usage info prevents renaming] */
/*! export outerWidth [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ready [provided] [no usage info] [missing usage info prevents renaming] */
/*! export refreshSubmitBtn [provided] [no usage info] [missing usage info prevents renaming] */
/*! export removeCartHint [provided] [no usage info] [missing usage info prevents renaming] */
/*! export removeFromCart [provided] [no usage info] [missing usage info prevents renaming] */
/*! export removeModal [provided] [no usage info] [missing usage info prevents renaming] */
/*! export showOrHideEl [provided] [no usage info] [missing usage info prevents renaming] */
/*! export switchClass [provided] [no usage info] [missing usage info prevents renaming] */
/*! export updateCartIcon [provided] [no usage info] [missing usage info prevents renaming] */
/*! export updateCartItem [provided] [no usage info] [missing usage info prevents renaming] */
/*! export updateCartPage [provided] [no usage info] [missing usage info prevents renaming] */
/*! export updateTotalPrice [provided] [no usage info] [missing usage info prevents renaming] */
/*! export validateInput [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */function(e,t,n){n.r(t),n.d(t,{ready:function(){return s},outerWidth:function(){return d},showOrHideEl:function(){return c},switchClass:function(){return i},moveCategoriesSlider:function(){return l},refreshSubmitBtn:function(){return u},validateInput:function(){return m},createModal:function(){return p},removeModal:function(){return y},removeCartHint:function(){return h},createCartHint:function(){return v},addToCart:function(){return b},removeFromCart:function(){return f},updateCartItem:function(){return _},updateCartPage:function(){return g},updateTotalPrice:function(){return E},updateCartIcon:function(){return L},easterTime:function(){return k}});var a=n(/*! ./data */"./src/js/utils/data.js"),o=n(/*! ./state */"./src/js/utils/state.js"),r=n(/*! ./ajax */"./src/js/utils/ajax.js");const s=e=>{"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&e()}))},d=e=>{let t=e.offsetWidth;const n=getComputedStyle(e);return t+=parseInt(n.marginLeft)+parseInt(n.marginRight),t},c=(e,t,n,a)=>{if([...e.classList].includes(t))e.classList.remove(t),e.classList.add(n);else{e.classList.remove(n),e.classList.add(a);const o=function(n){n.pseudoElement?e.addEventListener("animationend",o,{capture:!1,once:!0,passive:!1}):(e.classList.remove(a),e.classList.add(t))};e.addEventListener("animationend",o,{capture:!1,once:!0,passive:!1})}},i=(e,t,n)=>{[...e.classList].includes(t)?(e.classList.remove(t),e.classList.add(n)):(e.classList.remove(n),e.classList.add(t))},l=()=>{const e=document.getElementById("categories-scrollable-container"),t=document.querySelector(".categories-category"),n=d(t);"left"===o.default.categoriesSlider.selectedArr?e.scrollBy({top:0,left:-n,behavior:"smooth"}):"right"===o.default.categoriesSlider.selectedArr&&e.scrollBy({top:0,left:n,behavior:"smooth"})},u=(e,t,n)=>{e.checked&&t.checked?(n.classList.remove("disabled"),n.removeAttribute("disabled")):(n.classList.add("disabled"),n.setAttribute("disabled",""))};function m(e){const t=a.RegexMap.get(e);if(!t)return;let n,o,r,s;return a.otherArgsMap.get(e)&&([n,o]=a.otherArgsMap.get(e)),r=o?e.value.trim().replace(/\s/g,""):e.value.trim(),s=n?document.getElementById(n):e,t.test(r)?s.classList.remove("invalid"):s.classList.add("invalid"),r}const p=(e,t,n)=>{const a=document.createElement("div"),o=document.body;a.classList.add("modal"),a.innerHTML=`<div class="modal__backdrop"></div>\n    <div class="modal__window">\n        <div class="modal__text">${e}</div>\n        <div class="modal__subtext">${t}</div>\n        <button class="modal__button">${n}</button>\n        <div class="close-button"></div>\n    </div>`,o.appendChild(a);const r=a.querySelector(".modal__button"),s=a.querySelector(".close-button");r.addEventListener("click",y.bind(void 0,a)),s.addEventListener("click",y.bind(void 0,a))},y=e=>{e.parentElement.removeChild(e)},h=e=>{e.parentElement.removeChild(e)},v=(e,t)=>{const n=document.querySelector(".cart-hint");if(n&&n.parentElement.removeChild(n),"success"!==e&&"failed"!==e)return;let a=document.createElement("div");const o=document.body;a.classList.add("cart-hint"),a.classList.add("cart-hint--visible"),a.classList.add("cart-hint--"+e),a.innerHTML=`<div class="cart-hint__text">\n    ${t}\n    </div>\n    <div class="cart-hint__symbol cart-hint__symbol--${e}">\n\n    </div>\n    <button class="close-button">\n\n    </button>`,o.appendChild(a);a.querySelector("button").addEventListener("click",h.bind(void 0,a)),setTimeout(()=>{a&&(a.addEventListener("animationend",()=>{h(a)}),i(a,"cart-hint--visible","cart-hint--hiding"))},5e3)},b=e=>r.postCartHandler(e).then(e=>(v("success","Produkt byl úspěšně přidán do košíku"),e)).catch(e=>{v("failed","Nastala chyba, produkt nebyl přidán do košíku")}),f=e=>r.postCartHandler(e).then(e=>(v("success","Produkt byl úspěšně odebrán z košíku"),e)).catch(e=>{v("failed","Nastala chyba, produkt nebyl odebrán z košíku")}),_=(e,t)=>{const n=t.items.find(t=>t.product._id=e.dataset.productid),a=e.querySelector(".cart-item__amount-box__amount"),o=e.querySelector(".cart-item__price");n?(a.textContent=n.amount+"ks",o.textContent=+n.product.price*n.amount+"Kč"):e.parentElement.removeChild(e),E(t),g(),L(t)},g=()=>{const e=document.querySelector(".cart-item"),t=document.getElementById("cart-order"),n=document.querySelector(".cart__cart-content__empty"),a=document.querySelector(".cart__cart-content__summary"),o=document.querySelector(".cart__cart-content__dph"),r=document.getElementById("to-order");e?(t.style.display="flex",a.style.display="flex",n.style.display="none",o.style.display="block",r.classList.remove("hidden")):(t.style.display="none",a.style.display="none",n.style.display="block",o.style.display="none",r.classList.remove("hidden"),r.classList.add("hidden"))},E=e=>{document.querySelector(".cart__cart-content__summary__price").textContent=e.total+"Kč"},L=e=>{const t=document.querySelector(".header__cart-amount"),n=e.items.reduce((t,n,a)=>t+e.items[a].amount,0);t.style.display=n<=0?"none":"flex",t.textContent=n},k=(e,t)=>{const n=t.target.value,a=()=>{const t=document.createElement("img");t.style.width="50px",t.style.height="50px",t.style.position="absolute",t.style.top="50%",t.style.left="50%",t.style.objectFit="cover",t.setAttribute("src","/img/frog.png"),t.style.animation="easterAnimation 2.8s linear",document.querySelector("body").prepend(t),setTimeout(()=>{e.cloneNode().play()},100),setTimeout(()=>{t.parentElement.removeChild(t)},2800)};if("boomer"!==n&&"Boomer"!==n||a(),"BOOMER"===n){const e=setInterval(()=>{a()},400);setTimeout(()=>{clearInterval(e)},2e3)}}},"./src/js/utils/state.js":
/*!*******************************!*\
  !*** ./src/js/utils/state.js ***!
  \*******************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.* */function(e,t,n){n.r(t),t.default={categoriesSlider:{selectedArr:null},hamburgerBtn:null}}},t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n("./src/js/index.js")}();