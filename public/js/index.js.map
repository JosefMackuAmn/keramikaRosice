{"version":3,"sources":["webpack://keramika-rosice/./src/js/index.js","webpack://keramika-rosice/./src/js/utils/ajax.js","webpack://keramika-rosice/./src/js/utils/functions.js","webpack://keramika-rosice/./src/js/utils/state.js","webpack://keramika-rosice/webpack/bootstrap","webpack://keramika-rosice/webpack/runtime/define property getters","webpack://keramika-rosice/webpack/runtime/hasOwnProperty shorthand","webpack://keramika-rosice/webpack/runtime/make namespace object","webpack://keramika-rosice/webpack/startup"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAkC;AACQ;AACL;;AAErC;AACA;AACA,mDAAU;;AAEV;AACA;AACA;;AAEA;AACA,yBAAyB,8DAAkB;AAC3C;;AAEA;;AAEA,QAAQ,yDAAgB;AACxB,QAAQ,0DAAiB;;AAEzB;AACA,YAAY,0DAAiB;AAC7B;;AAEA,KAAK;;AAEL;AACA,sCAAsC,iEAAwB;;AAE9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY,8EAAkC;AAC9C,YAAY,kEAAyB;AACrC,SAAS;AACT;AACA,YAAY,8EAAkC;AAC9C,YAAY,kEAAyB;AACrC,SAAS,E;AACT;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,iDAAa;AAC7B;AACA,iBAAiB;AACjB,aAAa;AACb;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAgB,yDAAgB;AAChC;AACA,gBAAgB,0DAAiB;AACjC,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,yDAAgB;AAChC,aAAa;AACb;AACA;AACA,gBAAgB,yDAAgB;AAChC,aAAa,E;AACb;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,YAAY,0DAAiB;AAC7B,YAAY,0DAAiB;AAC7B,YAAY,yDAAgB;;AAE5B;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA,CAAC;;;;;;;;;;;;;;;;;;;;;ACtJM,yBAAyB,kCAAkC;AAClE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb,yE;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;;AAEb;AACA;AACA;AACA,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjC4B;;AAE5B;AACA;;AAEA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACO;AACP;AACA;AACA,wBAAwB,2EAAqC;;AAE7D;AACA,QAAQ,yEAAmC;AAC3C,QAAQ,2FAAqD;;AAE7D,2BAA2B,oFAA8C;AACzE;AACA;AACA;AACA;;AAEO;AACP;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACO;AACP;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,wEAAkC;AAC1C;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK,UAAU,wEAAkC;AACjD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,C;;;;;;;;;;;;;;;;;;ACvJA;AACA;AACA,iEAAe;AACf;AACA;AACA,KAAK;AACL;AACA,C;;;;;;UCPA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCrBA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,sF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;UCNA;UACA;UACA;UACA","file":"index.js","sourcesContent":["import state from './utils/state';\r\nimport * as fcns from './utils/functions';\r\nimport * as ajax from './utils/ajax';\r\n  \r\n///////////////////////////////////\r\n///// CALLING READY FUNCTION\r\nfcns.ready(() => {\r\n\r\n    /////\r\n    // MENU\r\n    /////\r\n\r\n    // Select hamburger button and attach click listener\r\n    const hamburgerBtn = state.hamburgerBtn = document.querySelector(\"#hamburger-btn\");\r\n    const headerList = hamburgerBtn.nextElementSibling;\r\n\r\n    hamburgerBtn.addEventListener(\"click\", () => {\r\n\r\n        fcns.switchClass(hamburgerBtn, 'header__nav-button--hide', 'header__nav-button--show');\r\n        fcns.showOrHideEl(headerList, 'header__nav-list--hidden', 'header__nav-list--visible', 'header__nav-list--hiding');\r\n\r\n        for (const listItem of headerList.children) {\r\n            fcns.showOrHideEl(listItem, 'header__nav-item--hidden', 'header__nav-item--visible', 'header__nav-item--hiding');\r\n        }\r\n\r\n    });\r\n\r\n    // Window resize listener\r\n    window.addEventListener(\"resize\", fcns.resizeHeaderHandler);\r\n\r\n    /////\r\n    // CATEGORIES SLIDER\r\n    /////\r\n\r\n    // Try to find #categories-slider\r\n    const categoriesSlider = document.getElementById(\"categories-slider\");\r\n    // If #categories-slider found\r\n    if (categoriesSlider) {\r\n        // Find arrows\r\n        const arrowLeft = document.getElementById(\"arrow-left\");\r\n        const arrowRight = document.getElementById(\"arrow-right\");\r\n        \r\n        // Attach click listener to arrows\r\n        arrowLeft.addEventListener(\"click\", () => {\r\n            state.categoriesSlider.selectedArr = 'left';\r\n            fcns.moveCategoriesSlider();\r\n        });\r\n        arrowRight.addEventListener(\"click\", () => {\r\n            state.categoriesSlider.selectedArr = 'right';\r\n            fcns.moveCategoriesSlider();\r\n        });        \r\n    }\r\n    \r\n    /////\r\n    // E-SHOP\r\n    /////\r\n\r\n    ///// SUBMIT TO CART BUTTON\r\n\r\n    const eshopProducts = document.querySelector('.eshop__products');\r\n\r\n    if(eshopProducts) {\r\n        const submitBtns = eshopProducts.querySelectorAll('.post-order-btn');\r\n        for (const btn of submitBtns) {\r\n            btn.addEventListener('click', () => {\r\n                // Create object with action ('ADD' || 'REMOVE'), productId, csrf, amount\r\n                const postCartData = {\r\n                    action: 'ADD',\r\n                    productId: btn.dataset.productid,\r\n                    csrf: btn.dataset.csrf,\r\n                    amount: btn.parentElement.querySelector('input').value\r\n                }\r\n                \r\n                ajax.postCart(postCartData).catch(err => {\r\n                    // ADD ERROR MODAL OPENING -----------------------------------------------------------------------\r\n                });\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    ///// CATEGORY SELECT\r\n    const categorySelect = document.querySelector('.category-select');\r\n\r\n    if (categorySelect) {\r\n        const categorySelectButtons = categorySelect.querySelectorAll('.category-select__button');\r\n\r\n        for (const btn of categorySelectButtons) {\r\n            const list = btn.parentElement.querySelector('.category-select__subcategory-list');\r\n        \r\n            btn.addEventListener('click', () => {\r\n                // changes the button style\r\n                fcns.switchClass(btn, 'category-select__button--show', 'category-select__button--hide');\r\n                // shows or removes the subcategory list\r\n                fcns.showOrHideEl(list, 'category-select__subcategory-list--hidden', 'category-select__subcategory-list--visible', 'category-select__subcategory-list--hiding');\r\n            });\r\n        }\r\n\r\n        ///// PRODUCT MODAL\r\n        const products = document.querySelectorAll('.product');\r\n\r\n        for (const prod of products) {\r\n            const btnShowProdModal = prod.querySelector('.product__info .to-cart-button');\r\n            const btnCloseProdModal = prod.querySelector('.product__modal__close-button');\r\n            const modal = prod.querySelector('.product__modal');\r\n            \r\n            btnShowProdModal.addEventListener('click', () => {\r\n                // Shows product modal\r\n                fcns.switchClass(modal, 'product__modal--toggled', 'product__modal--hidden');\r\n            });\r\n            btnCloseProdModal.addEventListener('click', () => {\r\n                // Hides product modal\r\n                fcns.switchClass(modal, 'product__modal--toggled', 'product__modal--hidden');\r\n            });            \r\n        }\r\n\r\n        ///// MOBILE CATEGORY SELECT\r\n        const categorySelectMobileBtn = categorySelect.querySelector('button');\r\n\r\n        const categorySelectList = categorySelectMobileBtn.parentElement.querySelector('.category-select__category-list');\r\n        const categorySelectHeading = categorySelectMobileBtn.parentElement.querySelector('.heading-2');\r\n    \r\n        const footer = document.querySelector('footer');\r\n    \r\n        window.addEventListener('scroll', () => {\r\n            const footerY = footer.getBoundingClientRect().y;\r\n            const btnY = categorySelectMobileBtn.getBoundingClientRect().y;\r\n    \r\n            if (footerY >= btnY) {\r\n                categorySelectList.classList.remove('scrollLocked');\r\n                categorySelectHeading.classList.remove('scrollLocked');\r\n            } else {\r\n                categorySelectList.classList.add('scrollLocked');\r\n                categorySelectHeading.classList.add('scrollLocked');\r\n            }\r\n        });\r\n    \r\n        // Toggle category select on mobile devices\r\n        categorySelectMobileBtn.addEventListener('click', () => {\r\n            fcns.showOrHideEl(categorySelectList, 'category-select__category-list--hidden', 'category-select__category-list--visible', 'category-select__category-list--hiding');\r\n            fcns.showOrHideEl(categorySelectHeading, 'heading-2--hidden', 'heading-2--visible', 'heading-2--hiding');\r\n            fcns.switchClass(categorySelectMobileBtn, 'category-select__mobile-button--show', 'category-select__mobile-button--hide');\r\n    \r\n            if ([...categorySelectMobileBtn.classList].includes('category-select__mobile-button--show')) {\r\n                categorySelectMobileBtn.textContent = 'Zobrazit kategorie';\r\n            } else {\r\n                categorySelectMobileBtn.textContent = 'SkrÃ½t kategorie';\r\n            }\r\n        });\r\n    }\r\n});\r\n\r\n\r\n  ","export const postCart = async ({ action, csrf, amount, productId }) => {\r\n    switch (action) {\r\n        case 'ADD':\r\n        case 'REMOVE':\r\n\r\n            // Create body object\r\n            const bodyObj = {\r\n                action: action,\r\n                amount: amount,\r\n                productId: productId\r\n            };\r\n\r\n            // Send request\r\n            fetch('/kosik', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'X-CSRF-Token': csrf,\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json'\r\n                },\r\n                body: JSON.stringify(bodyObj)\r\n            }).then(res => {\r\n                if (!(res.ok && res.status >= 200 && res.status < 300)) {                \r\n                    const errorMsg = res.json().msg;\r\n                    throw new Error(errorMsg);\r\n                }\r\n            }).catch(err => {\r\n                throw new Error(err);\r\n            })\r\n\r\n            break;\r\n        default: throw new Error('Non-existing cart action');\r\n    }\r\n}","import state from './state';\r\n\r\n///////////////////////////////////\r\n///// DEFINING FUNCTIONS\r\n\r\n/////\r\n// ready function to execute when DOM is loaded\r\n/////\r\nexport const ready = callbackFunc => {\r\n    if (document.readyState !== 'loading') {\r\n        // Document is already ready, call the callback directly\r\n        callbackFunc();\r\n    } else if (document.addEventListener) {\r\n        // All modern browsers to register DOMContentLoaded\r\n        document.addEventListener('DOMContentLoaded', callbackFunc);\r\n    } else {\r\n        // Old IE browsers\r\n        document.attachEvent('onreadystatechange', function() {\r\n            if (document.readyState === 'complete') {\r\n                callbackFunc();\r\n            }\r\n        });\r\n    }\r\n}\r\n  \r\n/////\r\n// Utilities functions\r\n/////\r\nexport const outerWidth = (el) => {\r\n    let width = el.offsetWidth;\r\n    const style = getComputedStyle(el);\r\n\r\n    width += parseInt(style.marginLeft) + parseInt(style.marginRight);\r\n    return width;\r\n}\r\n\r\n// Rendering the element or removing it from the screen smoothly - with animations\r\n// The element must have 3 CSS Classes available - hidden class, visible class, hiding class\r\n// Hidden class - display: none, no animation\r\n// Visible class - display: block (or whatever except none) and an animation of the element appearing on the page (sliding -in or so)\r\n// Hiding class - animation of the element disappearing\r\n// Element has only one of these classes at a time.\r\n// The hiding class is changed to hidden class after 'animationend' event on the element\r\nexport const showOrHideEl = (element, hiddenClass, visibleClass, hidingClass) => {\r\n    if([...element.classList].includes(hiddenClass)) {\r\n        element.classList.remove(hiddenClass);\r\n        element.classList.add(visibleClass);\r\n    } else {\r\n        element.classList.remove(visibleClass);\r\n        element.classList.add(hidingClass);\r\n\r\n        const animationEndHandler =  function(event) {\r\n        if(event.pseudoElement) {\r\n            element.addEventListener('animationend', animationEndHandler,  {\r\n            capture: false,\r\n            once: true,\r\n            passive: false\r\n            });\r\n            return;\r\n        }\r\n        element.classList.remove(hidingClass);\r\n        element.classList.add(hiddenClass);\r\n        }\r\n\r\n        element.addEventListener('animationend', animationEndHandler, {\r\n        capture: false,\r\n        once: true,\r\n        passive: false\r\n        });\r\n    }\r\n}\r\n\r\n// Switching between two classes, if an element has a class A, the class A is replaced for class B, if an element has a class B, the class B is replaced for the class A\r\nexport const switchClass = (el, classA, classB) => {\r\n    if ([...el.classList].includes(classA)) {\r\n        el.classList.remove(classA);\r\n        el.classList.add(classB);\r\n    } else {\r\n        el.classList.remove(classB);\r\n        el.classList.add(classA);\r\n    }\r\n}\r\n\r\n/////\r\n// Header functions\r\n/////\r\nexport const resizeHeaderHandler = () => {\r\n    console.log(window.clientX);\r\n    if (document.documentElement.getBoundingClientRect().width > 700) {\r\n        const navList = state.hamburgerBtn.nextElementSibling;\r\n\r\n        navList.classList.remove(\"header__nav-list--shown\");\r\n        state.hamburgerBtn.classList.remove(\"header__nav-button--clicked\");\r\n        state.hamburgerBtn.nextElementSibling.removeAttribute('style');\r\n\r\n        for(const child of state.hamburgerBtn.nextElementSibling.children) {\r\n            child.style.animation = 'none';\r\n        }\r\n    }\r\n};\r\n\r\nexport const hamburgerBtnClickHandler = (btn, event) => {\r\n    event.stopPropagation();\r\n\r\n    if (Array.from(btn.classList).includes(\"header__nav-button--clicked\")) {\r\n        btn.classList.remove(\"header__nav-button--clicked\");\r\n        btn.nextElementSibling.addEventListener('animationend', function(e) {\r\n        btn.nextElementSibling.style.display = 'none';\r\n        }, {\r\n        capture: false,\r\n        once: true,\r\n        passive: false\r\n        });\r\n        for(const child of btn.nextElementSibling.children) {\r\n        child.style.animation = 'headerShiftOut .2s forwards';\r\n        }\r\n    } else {\r\n        btn.classList.toggle(\"header__nav-button--clicked\");\r\n        btn.nextElementSibling.style.display = 'block';\r\n        for(const child of btn.nextElementSibling.children) {\r\n        child.style.animation = 'headerShiftIn .2s forwards';\r\n        }\r\n    }\r\n};\r\n\r\n/////\r\n// Categories slider\r\n/////\r\nexport const moveCategoriesSlider = () => {\r\n    // Find #categoires-scrollable-container\r\n    const scrollableContainer = document.getElementById(\"categories-scrollable-container\");\r\n\r\n    // Find .categories-category\r\n    const categoryEl = document.querySelector('.categories-category');\r\n    // Find categoryEl width with margin\r\n    const moveInPixels = outerWidth(categoryEl);\r\n\r\n    // Conditionally scroll to left or to right\r\n    if (state.categoriesSlider.selectedArr === 'left') {\r\n        scrollableContainer.scrollBy({\r\n        top: 0,\r\n        left: -moveInPixels,\r\n        behavior: \"smooth\"\r\n        });\r\n    } else if (state.categoriesSlider.selectedArr === 'right') {\r\n        scrollableContainer.scrollBy({\r\n        top: 0,\r\n        left: moveInPixels,\r\n        behavior: \"smooth\"\r\n        });\r\n    }\r\n}","///////////////////////////////////\r\n///// DEFINE STATE\r\nexport default {\r\n    categoriesSlider: {\r\n        selectedArr: null // 'left' || 'right'\r\n    },\r\n    hamburgerBtn: null\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/js/index.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}